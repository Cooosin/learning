

### 网络模型

#### TCP/IP的特点

- 分层和封包/拆包机制
- TCP/IP对网络进行了抽象，划分了四层，每一层的特点不同，各自完成任务，每一层和他的上下层都有标准的接口规范，每一层无需关心上下层是如何工作的

#### TCP/IP四层模型

![TCP:IP层次结构](/Library/Study/learningBlog/images/TCP:IP层次结构.png)

1. 应用层
   - 开发者开发的应用协议的软件
2. 传输层
   - 客户端传输层接受到应用层的消息后，负责链接服务器中，通过ip地址和端口去构建一条连接的通道
   - 传输层主要有TCP和UDP，TCP能够保证数据的准确到达，一旦出现错误有处理机制，而UDP不保证数据的准确到达，但是他性能好
   - TCP使用三次握手来保证数据的可靠传输
     1. 初始化连接，客户端发送SYN消息请求一个新的连接
     2. 服务端接受SYN消息，并返回SYN+ACK消息给客户端
     3. 客户端发送ACK消息给服务端，确认本次连接成功
3. 网络层
   - 网络层主要是IP协议，客户端和服务端传输的时候，会经过很多节点，IP协议就是选择一条最优的路径，每个终端上有一张路由表，路由表负责将数据传输到下一个节点
4. 链路层
   - 就是实体硬件设备，光纤、网卡等

#### 拆包和封包

- 封包：对于客户端请求来说，传输层在接受到应用层的消息后，会在数据包前面加一个TCP包头，然后发送给网络层，网络层接受到后加个IP头发送给链路层，链路层加个以太网头然后将数据传递给服务端
- 拆包：服务端接受到数据包后，在网络层拆除链路包的头，在传输层拆除IP包的头，在应用层拆除调TCP的包头



### HTTP

#### HTTP的特点

- Http是一个客户端/服务端模型，Http本身不能传输，需要通过TCP/IP协议才能进行数据的传输

- 不安全：

  1. 数据没有加密：攻击者容易获取到消息

  2. 无法验证身份：在HTTP应用中，客户端和服务端不能确认对方的身份，对于服务端来说，只要请求的HTTP格式正确，就会发送相应信息
  3. 数据易篡改：没有校验数据完整性，服务端和客户端无条件信任数据